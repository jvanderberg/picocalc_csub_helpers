' Test program for mandelbrot CSUB
Option Explicit

CSUB mandelbrot integer, integer, integer, integer, integer, integer
 00000000
 B09BB5F0 00049E20 9821CE60 DC042E00
 E0A4D000 D1002D00 6806E0A1 96136840
 28009012 D000DC04 2E00E099 E096D100
 68576816 685C9407 9316681B 680B9417
 930C684C 9B07940D 961400ED 195B9715
 24009318 00272300 94059304 001C001E
 0032003D 0020003B F7FF0029 0022FFFE
 9019002B 00209110 F7FF0029 0032FFFE
 900E003B 0030910F F7FF0039 9A0EFFFE
 1A129B0F 0099418B 43080F90 9008179B
 9C089309 9A0C9D09 18A49B0D 9B10415D
 00DB9A19 431A0F52 920A9B10 930B175B
 9A140020 9E0A9B15 00299F0B 415F18B6
 002B0022 FFFEF7FF 0F82008B 178B431A
 93019200 003B0032 00390030 FFFEF7FF
 0F82008B 178B431A 93039202 98042201
 23009905 41591880 000B0002 93059204
 9B139A04 91119010 D1034293 9A059B12
 D00A4293 9B019A00 99039802 414B1812
 DC022B01 2A00D195 9B07D093 9A119910
 9916C306 93079A17 9C0D9B0C 4154185B
 930C9A07 9B18940D D0004293 2000E779
 B01B2100 0000BDF0
End CSUB

Const SCALE = 1073741824   ' 1 << 30  (Q2.30)
Const POINTS = 10

Dim result%(POINTS - 1)
Dim startX%
Dim startY%
Dim delta%
Dim i as INTEGER
startX% = -2 * SCALE            ' Q3.28 start X
startY% = 0                     ' Q3.28 start Y
delta%  = SCALE \ 4             ' Q3.28 step (0.25)

mandelbrot result%(0), startX%, startY%, delta%, POINTS, 64

For i% = 0 To POINTS - 1
    Print "Point"; i%; "Iter"; result%(i%)
Next
